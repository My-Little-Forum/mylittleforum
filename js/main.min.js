function DragAndDropTable(e,t,n){if(e){var i=!1,o=e.tBodies[0].rows,s=null,a=window.document.onmouseup,r=window.document.onmousemove,l=0,d=function(e){var t=window.document.location.search.substring(1).split("&")
if(!t.length)return!1
for(var n=0;n<t.length;n++){var i=t[n].split("=")
if(decodeURIComponent(i[0])==e)return i.length>1?decodeURIComponent(i[1]):""}},c=function(){if(i){var e=d(n),o=m()
if(e&&o){var s=[new Query("mode",t),new Query("action","reorder"),new Query(e,o)]
new Request("index.php","POST",s)}}},u=function(){for(var e=0;e<o.length;e++)o[e].className=e%2==0?"a":"b"},m=function(){for(var e="",t=0;t<o.length;t++)o[t].id.length>3&&(e+=o[t].id.substring(3)+",")
return e.substr(0,e.length-1)},f=function(e){},h=function(e){e&&(u(),c())},g=function(){window.document.onmousemove=function(e){if("function"==typeof r&&r(e),s){var t=document.getMousePos(e),n=t.top-s.handlePos.top+s.elementPos.top,o=p(n)
if(l!=n&&o&&s!=o){var a=n>l
l=n,a&&(o=o.nextSibling),s.parentNode.insertBefore(s,o),i=!0,f(s)}return e&&e.preventDefault&&e.preventDefault(),!1}},window.document.onmouseup=function(e){return window.document.onmouseup=window.document.onmousemove=null,"function"==typeof a&&a(e),"function"==typeof r&&(window.document.onmousemove=r),h(s),s=null,i=!1,!1}},p=function(e){for(var t=0;t<o.length;t++){var n=document.getElementPoSi(o[t]),i=n.height
if(0==i&&row[t].firstChild&&(n=document.getElementPoSi(row[t].firstChild),i=row[t].firstChild.offsetHeight),i/=2,e>=n.top-i&&e<n.top+i)return o[t]}return null},y=function(e){e.classList.add("js-cursor-move"),e.title=lang.drag_and_drop_title,e.onmousedown=function(e){i=!1
var t=document.getTarget(e)
return t&&-1!=t.className.search(/control/)?!1:(this.className="drag",this.elementPos=document.getElementPoSi(this),this.handlePos=document.getMousePos(e),s=this,g(),!1)}
var t=e.cells[e.cells.length-1].getElementsByTagName("a")
if(t&&t.length>0)for(var n=0;n<t.length;n++)-1!=t[n].href.search(/move_up/)?t[n].onclick=function(t){return e.parentNode.insertBefore(e,o[Math.max(e.rowIndex-2,0)]),i=!0,u(),c(),!1}:-1!=t[n].href.search(/move_down/)&&(t[n].onclick=function(t){return e.parentNode.insertBefore(e,o[Math.min(e.rowIndex+1,o.length)]),u(),i=!0,c(),!1})}
!function(){for(var e=0;e<o.length;e++)y(o[e])}()}}function Query(e,t){t=t||""
var n=e.trim(),i=encodeURIComponent((""+t).trim())
this.toString=function(){return n+"="+i+"&"}}function Request(e,t,n,i,o,s,a,r){s=s?"object"==typeof s||"function"==typeof s?s:[s]:[],a=a||!1,r=r?r:a?"text/xml":"text/plain",i=i||null
var l=!1
try{if(window.XMLHttpRequest&&(l=new XMLHttpRequest),l.overrideMimeType)l.overrideMimeType(r)
else if(window.ActiveXObject)try{l=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{l=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){l=!1}}}catch(u){l=!1}if(!l)return void(i&&"function"==typeof i[o]&&i[o](!1,s))
var m=""
if(n instanceof Query)m=""+n
else if(("object"==typeof n||"function"==typeof n)&&n.length>0)for(var f=0;f<n.length;f++)m+=""+n[f]
m+=(new Date).getTime(),l.abort(),l.onreadystatechange=function(){4==l.readyState&&(i&&"function"==typeof i[o]&&i[o](a?l.responseXML:l.responseText,s),l=!1)},"post"==t.toLowerCase()?(l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(m)):(l.open("GET",e+"?"+m,!0),l.send(null))}function Sidebar(e){e=e||""
var t=document.getElementById("sidebar")||document.getElementById("bottombar")||!1,n=document.getElementById("sidebartoggle"),i=this
if(t&&n){this.setVisible=function(i){i?(t.classList.remove("js-display-fold"),n.src=e+settings.hide_sidebar_image,n.classList.remove("show-sidebar"),n.classList.add("hide-sidebar")):(t.classList.add("js-display-fold"),n.src=e+settings.show_sidebar_image,n.classList.remove("hide-sidebar"),n.classList.add("show-sidebar"))},this.isVisible=function(){return!t.classList.contains("js-display-fold")}
for(var o=t.getElementsByTagName("a"),s=0;s<o.length;s++)-1!=o[s].href.search(/toggle_sidebar/)&&(o[s].onclick=function(e){return i.setVisible(!i.isVisible()),new Request("index.php","POST",new Query("toggle_sidebar",!0)),!1})}}function Thread(e,t){var n=!1
if(isNaN(parseInt(e))){var i=RegExp(/thread-([0-9])+/),o=i.exec(e.id)
if(!o)return
n=o&&o.length>1?o[1]:0}else n=e,e=document.getElementById("thread-"+n)
var s=e.getElementsByTagName("li"),a=e.getElementsByTagName("ul"),r=this,l=new Image,d=null
if("TD"!=e.parentNode.nodeName){var c=document.getFirstChildByElement(s[0],"span",["tail"])
c&&s.length>1&&(d=document.getFirstChildByElement(c,"span",["replies"]),d||(d=document.createElementWithAttributes("span",{className:"replies"},c),d.appendChild(document.createTextNode(" ("+(s.length-1)+")"))))}this.isFold=function(){return a.length>0&&a[0].classList.contains("js-display-none")},this.setFold=function(n,i){i=i||!1,n?(l.src=t+settings.expand_thread_image,l.classList.remove("fold-thread"),l.classList.add("expand-thread"),l.alt="",l.onerror=function(e){this.alt="[+]"},l.title=lang.expand_fold_thread_linktitle,d&&d.classList.remove("js-display-none"),i&&(e.classList.remove("expanded"),e.classList.add("folded"))):(l.src=t+settings.fold_thread_image,l.classList.remove("expand-thread"),l.classList.add("fold-thread"),l.alt="",l.onerror=function(e){this.alt="[-]"},l.title=lang.expand_fold_thread_linktitle,d&&d.classList.add("js-display-none"),i&&(e.classList.remove("folded"),e.classList.add("expanded")))
for(var o=0;o<a.length;o++)n?a[o].classList.add("js-display-none"):a[o].classList.remove("js-display-none")}
var u=function(e){e&&(s.length>0&&s[0].firstChild?s[0].insertBefore(e,s[0].firstChild):s[0].appendChild(e))},m=document.createElementWithAttributes("span",{className:"fold-expand"},null)
if(1==s.length){document.createElementWithAttributes("img",{src:t+settings.expand_thread_inactive_image,className:"expand-thread-inactive",alt:"",onerror:function(e){this.alt="[]"}},m)
u(m)}else{var f=document.createElementWithAttributes("a",{href:"#",onclick:function(e){return r.setFold(!r.isFold()),this.blur(),!1}},m)
this.setFold(this.isFold()),f.appendChild(l),u(m)}}function Posting(e){if(e){var t=document.getElementById("p"+e),n=document.getElementById("headline-"+e)
if(t&&n){var i=this
n.classList.add("js-cursor-pointer"),n.title=lang.fold_posting_title,n.onclick=function(e){i.setFold(!i.isFold())},this.isFold=function(){return t.classList.contains("js-display-fold")},this.setFold=function(e){e?t.classList.add("js-display-fold"):t.classList.remove("js-display-fold")},this.setFold(this.isFold())}}}function FullSizeImage(e){if(e){e="object"!=typeof e&&"function"!=typeof e||"number"!=typeof e.length?[e]:e
var t=null,n=document.body,i=!1,o=document.getElementById("image-canvas")||document.createElementWithAttributes("div",{id:"image-canvas"},n)
o.setVisible=function(e){e?this.classList.remove("js-display-none"):this.classList.add("js-display-none")}
var s=function(){if(t){window.clearInterval(t)
var e=document.getScrollPosition()
i?window.location.hash="GET_OPERA":window.history.back(),window.scrollTo(e.left,e.top)}},a=window.document.onkeypress
window.document.onkeypress=function(e){var t=document.getKeyCode(e)
27==t&&(o.setVisible(!1),s()),"function"==typeof a&&a(e)},o.onclick=function(e){o.setVisible(!1),s()},o.setVisible(!1)
for(var r=document.getElementById("fullSizeImage")||document.createElementWithAttributes("img",{id:"fullSizeImage"},o),l=0;l<e.length;l++)for(var d=e[l].getElementsByTagName("a"),c=0;c<d.length;c++)-1!=d[c].rel.search(/thumbnail/)&&(d[c].onclick=function(e){window.location.hash="image"
var n=window.location.hash
r.src=this.href,o.setVisible(!0)
var i=document.getElementPoSi(r),s=document.getScrollPosition(),a=document.getWindowSize()
return o.style.height=a.pageHeight+"px",r.style.marginTop=s.top+(a.windowHeight-i.height)/2+"px",t=window.setInterval(function(){this.location.hash!=n&&o.setVisible(!1)},50),!1})}}function AjaxPreviewWindow(e,t){t=t?t:""
var n=!1,i=!1,o=document.getElementById("ajax-preview"),s=this
o||(o=document.createElementWithAttributes("div",{id:"ajax-preview",className:"js-display-none"},null),document.body.appendChild(o)),o.innerHTML=e.stripslashes().trim()
var a=null,r=0,l=document.getElementById("ajax-preview-close"),d=document.getElementById("ajax-preview-content"),c=document.getElementById("ajax-preview-main")
l&&d&&c||console.log("main.js: Fail to init ajax-Elements!")
var u=window.document.onmousedown
window.document.onmousedown=function(e){s.closeByOutSideClick(e),"function"==typeof u&&u(e)}
var m=window.document.onkeypress
if(window.document.onkeypress=function(e){var t=document.getKeyCode(e)
27==t&&s.setVisible(!1),"function"==typeof m&&m(e)},settings.ajax_preview_onmouseover){var f=window.document.onmouseover
window.document.onmouseover=function(e){s.isPinned()||s.closeByOutSideClick(e),"function"==typeof f&&f(e)}}l.onclick=function(){return s.setVisible(!1),!1}
var h=document.createElementWithAttributes("img",{id:"ajax-preview-throbber",src:t+settings.ajax_preview_throbber_image,alt:"[*]"},d),g=document.createElementWithAttributes("p",{id:"ajax-preview-replylink-wrapper",className:"js-display-none"},d),p=document.createElementWithAttributes("a",{id:"ajax-preview-replylink",href:"#"},null)
p.appendChild(document.createTextNode(lang.reply_link)),this.closeByOutSideClick=function(e){var t=document.getElementById("image-canvas")
if(s.isVisible()&&t&&t.classList.contains("js-display-none")){var n=document.getTarget(e)
if(n&&n!=s.getOpener().firstChild&&n!=s.getContentElement()&&n!=s.getMainElement()){var i=document.getMousePos(e),o=i.left,a=i.top,r=s.getDocumentPosition().left,l=s.getDocumentPosition().top,d=s.getWidth(),c=s.getHeight();(r>o||o>r+d||l>a||a>l+c)&&"ap"!=n.className&&s.setVisible(!1)}}},this.pin=function(){i=!i},this.isPinned=function(){return i},this.getContentElement=function(){return d},this.getMainElement=function(){return c},this.hideURI=function(e){n=e},this.setPosition=function(e,t){o.style.left=e+"px",o.style.top=t+"px"
var n=this.getWidth(),i=document.getWindowSize().windowWidth
e+n>=i?this.moveHorizontal(i-25-(e+n)):this.moveHorizontal(0)},this.getWidth=function(){return c.offsetWidth},this.getHeight=function(){return o.offsetHeight+c.offsetHeight},this.setOpener=function(e){a=e},this.getOpener=function(){return a},this.isVisible=function(){return!o.classList.contains("js-display-none")},this.getDocumentPosition=function(){var e=o.offsetLeft,t=o.offsetTop
return{top:t,left:e+r}},this.moveHorizontal=function(e){r=e,c.style.left=e+"px"},this.setVisible=function(e){e?(o.classList.remove("js-display-none"),o.classList.add("js-display-block")):(o.classList.remove("js-display-block"),o.classList.add("js-display-none"),i=!1)},this.setText=function(e){d.innerHTML=e,""!=e?(p.firstChild||p.appendChild(document.createTextNode(lang.reply_link)),n||(g.appendChild(p),d.appendChild(g)),new FullSizeImage(d)):d.appendChild(h)},this.setURI=function(e){e?(g.classList.remove("js-display-none"),g.classList.add("js-display-block"),p.href=e):(p.href="#",g.classList.remove("js-display-block"),g.classList.add("js-display-none"))}}function MyLittleJavaScript(){var e=null,t=null,n=null,i="index.php",o=[],s=[],a=RegExp(/[?|&]id=([0-9]+)(#p([0-9]+))?/),r=this,l=function(e){if(e&&a.test(e.href)){var t=a.exec(e.href)
return t[3]?t[3]:t[1]}return!1}
this.getTemplatePath=function(){if(null!=e)return e
for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)if("stylesheet"==t[n].rel)return t[n].href.substring(0,t[n].href.lastIndexOf("/")+1)
return""}
var d=function(t){var n=document.createElementWithAttributes("a",{pid:t,title:lang.ajax_preview_title,href:i+"?id="+t,onclick:function(e){return r.showAjaxPreviewWindow(this,!0),this.blur(),!1},onmouseover:function(e){return settings.ajax_preview_onmouseover&&(r.showAjaxPreviewWindow(this,!1),this.blur()),!1},tabIndex:-1},null)
document.createElementWithAttributes("img",{src:e+settings.ajax_preview_image,title:lang.ajax_preview_title,alt:"",onload:function(e){this.alt="[…]"},onerror:function(e){this.alt="[…]"}},n)
return n},c=function(e){if(e&&t){var n=l(e)
n&&e.parentNode&&(e.parentNode.appendChild(document.createTextNode(String.fromCharCode(160))),e.parentNode.appendChild(d(n)))}},u=function(e){if(e&&t){t.hideURI(!0)
var n=document.getElementById("postingform"),i=!1
n&&n.elements.id&&(i=parseInt(n.elements.id.value)),i&&(e.appendChild(document.createTextNode(String.fromCharCode(160))),e.appendChild(d(i)))}}
this.selectPosting=function(t,n){var o=n&&("object"==typeof n||"function"==typeof n)&&n.length>0,s=o?n[0]:t,a=o?t:!1,r=null
if(s&&(r=document.getElementById("markimg_"+s))){r.src=e+settings.mark_process_image,r.alt="[ ]"
var l=[new Query("mode","posting"),new Query("mark",s),new Query("method","ajax")]
if(o){if(o&&a&&document.getElementById("marklink_"+s)){var d=document.getElementById("marklink_"+s),c=a.getElementsByTagName("action")&&"1"==a.getElementsByTagName("action")[0].firstChild.data
c?(r.src=e+settings.marked_image,r.alt="[●]",d.title=lang.unmark_linktitle,r.title=lang.unmark_linktitle):(r.src=e+settings.unmarked_image,r.alt="[○]",d.title=lang.mark_linktitle,r.title=lang.mark_linktitle)}}else new Request(i,"POST",l,this,"selectPosting",s,!0)}}
var m=function(e){e=e||!1
for(var t=0;t<o.length;t++)o[t].setFold(!e,!0)
var n=[new Query("fold_threads",e?"0":"1"),new Query("ajax","true")]
new Request(i,"GET",n)},f=function(){if(document.getElementById("subnavmenu")){for(var e=document.getElementById("subnavmenu").getElementsByTagName("a"),t=null,n=RegExp(/fold-([0-9])+/),i=0;i<e.length;i++)if(-1!=e[i].className.search(n)){t=e[i]
break}if(t){var o=n.exec(t.className),s=o.length>1&&"1"==o[1]
t.onclick=function(e){return m(!s),this.className=this.className.replace(n,"fold-"+(s?2:1)),this.firstChild.replaceData(0,this.firstChild.nodeValue.length,s?lang.expand_threads:lang.fold_threads),this.title=s?lang.expand_threads_linktitle:lang.fold_threads_linktitle,s=!s,this.blur(),!1}}}},h=function(n){if(n){f()
for(var i=0;i<n.length;i++){var s=n[i],a=s.parentNode,l=document.getFirstChildByElement(a,"a",["ap","reply","thread","replynew","threadnew","thread-sticky","threadnew-sticky","reply-search","thread-search","thread-locked"]),c=!!document.getFirstChildByElement(a,"img",["no-text"]),u=parseInt(s.id.substring(1))
if(u){var m=s.getElementsByTagName("a")
if(m.length>=2)for(var h=0;h<m.length;h++)-1!=m[h].href.search(/mark/)?(m[h].pid=u,m[h].onclick=function(e){return r.selectPosting(this.pid),this.blur(),!1}):-1!=m[h].href.search(/delete_posting/)&&(m[h].onclick=function(e){var t=window.confirm(lang.delete_posting_confirm)
return t&&(this.href+="&delete_posting_confirm=true"),this.blur(),t})
if(!c&&l&&t)if(m.length>=1){var g=m[0]
s.insertBefore(d(u),g),s.insertBefore(document.createTextNode(String.fromCharCode(160)),g)}else s.appendChild(document.createTextNode(String.fromCharCode(160))),s.appendChild(d(u));-1!=a.parentNode.className.search(/thread/)&&-1!=a.parentNode.className.search(/[folded|expanded]/)&&o.push(new Thread(a.parentNode,e))}}var p=document.getElementsByClassName("options")
if(p.length>0)for(var i=0;i<p.length;i++){var m=p[i].getElementsByTagName("a")
if(m.length>0)for(var h=0;h<m.length;h++)if(-1!=m[h].href.search(/delete_posting/)){m[h].onclick=function(e){var t=window.confirm(lang.delete_posting_confirm)
return t&&(this.href+="&delete_posting_confirm=true"),t}
break}}var y=document.getElementsByClassName("posting")
y=y.length>0?y:document.getElementsByClassName("thread-posting"),new FullSizeImage(y)}},g=function(e){var t=document.getElementById(e)
if(t){var n=t.alt?t.alt:t.value
t.onfocus=function(e){this.value==n&&(this.value="")},t.onblur=function(e){""==this.value.trim()&&(this.value=n)}}},p=function(){if(document.getElementById("content")){var e=document.getElementById("content").getElementsByTagName("form")
if(e&&e.length>0)for(var t=0;t<e[0].elements.length;t++)if("text"==e[0].elements[t].type&&"search_user"!=e[0].elements[t].name&&"smiley_code"!=e[0].elements[t].name&&"new_category"!=e[0].elements[t].name){e[0].elements[t].focus()
break}}},y=function(e){e=e||!1
for(var t=0;t<s.length;t++)s[t].setFold(!e)},w=function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=parseInt(n.id.substring(1))
i&&s.push(new Posting(i))}var o=null
if(0!=s.length&&(o=document.getElementById("subnavmenu"))){var a=document.createElementWithAttributes("li",{},o),r=document.createElementWithAttributes("a",{isExpand:!0,title:lang.fold_postings_title,href:"#",className:"fold-postings"},a)
r.appendChild(document.createTextNode(lang.fold_postings)),r.onclick=function(e){return this.isExpand=!this.isExpand,y(this.isExpand),this.blur(),!1}}}},v=function(){for(var e=[[document.getElementById("terms_of_use")||!1,settings.terms_of_use_popup_width,settings.terms_of_use_popup_height],[document.getElementById("data_privacy_statement")||!1,settings.terms_of_use_popup_width,settings.terms_of_use_popup_height],[document.getElementById("edit_avatar")||!1,settings.avatar_popup_width,settings.avatar_popup_height]],t=0;t<e.length;t++)if(e[t][0]){var n=document.getWindowSize(),i=e[t][1],o=e[t][2],s=parseInt(.5*(n.windowWidth-i)),a=parseInt(.25*(n.windowHeight-o))
e[t][0].onclick=function(e){return window.open(this.href,"MyLittleForum","width="+i+",height="+o+",left="+s+",top="+a+",scrollbars,resizable"),!1}}}
this.updateAjaxPreviewWindow=function(e){if(e!==!1&&t){var n=e.getElementsByTagName("content"),i=e.getElementsByTagName("locked")
i=i?"1"==i[0].firstChild.data:!0,n=n?n[0].firstChild.data:"",i?t.setURI(!1):t.getOpener()&&t.getOpener().pid&&t.setURI("index.php?mode=posting&id="+t.getOpener().pid),""==n.trim()&&(n="<p>"+lang.no_text+"</p>"),t.setText(n)}},this.showAjaxPreviewWindow=function(e,n){if(e&&t)if(e==t.getOpener()&&t.isVisible()&&n)t.pin(),t.isPinned()||(t.setVisible(!1),t.setOpener(null))
else if(!t.isPinned()){n&&!t.isPinned()&&t.pin()
var o=document.getElementPoSi(e)
t.setOpener(e),t.setText(""),t.setVisible(!0),t.setPosition(o.left,o.top)
var s=[new Query("mode","entry"),new Query("ajax_preview","true"),new Query("id",e.pid)]
new Request(i,"POST",s,this,"updateAjaxPreviewWindow",null,!0)}},this.getAjaxPreviewWindow=function(){return t}
var b=function(){var e=document.getElementById("subnav-2")
if(e)for(var t=e.getElementsByTagName("form"),n=0;n<t.length;n++)for(var i=t[n].getElementsByTagName("select"),o=0;o<i.length;o++)i[o].f=t[n],i[o].onchange=function(e){return this.f.submit(),!1}}
this.init=function(i){i=i||!1,p(),g("search-input"),g("search-user"),e=this.getTemplatePath(),i&&(t=new AjaxPreviewWindow(i,e)),c(document.getElementById("user-last-posting")),u(document.getElementById("reply-to")),h(document.getElementsByClassName("tail")),w(document.getElementsByClassName("thread-posting")),v(),b(),n=new Sidebar(e),"object"==typeof preload&&document.preloadImages(preload,e)}}document.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):!1},"function"!=typeof document.getElementsByClassName&&(document.getElementsByClassName=function(e){var t,n,i=[],o=0
this.all?t=this.all:this.getElementsByTagName&&!this.all&&(t=this.getElementsByTagName("*"))
for(var s=t.length,a=0;s>a;a++)-1!=t[a].className.indexOf(e)&&(n=","+t[a].className.split(" ").join(",")+",",-1!=n.indexOf(","+e+",")&&(i[o]=t[a],o++))
return i}),document.preloadImages=function(e,t){"object"!=typeof e&&(e=[e]),t=t||""
for(var n=[],i=0;i<e.length;i++)n[i]=new Image,n[i].src=t+e[i]},document.getTarget=function(e){return e=e||window.event,e.target||e.srcElement||!1},window.Node&&Node.prototype&&!Node.prototype.contains&&(Node.prototype.contains=function(e){try{return!!(16&this.compareDocumentPosition(e))}catch(t){return!1}}),document.createInputElementWithAttributes=function(e,t,n){if("input"!=e.toLowerCase()&&"button"!=e.toLowerCase())return document.createElementWithAttributes(e,t,n)
var i=t.type||!1,o=t.name||!1,s=!1
if(i)try{s=document.createElement(e),s.type=i,o&&(s.name=o)}catch(a){var r=" type="+i+(o?" name="+o:"")
s=document.createElement("<"+e+r+">")}s=s||document.createElement(e)
for(var l in t)"type"!=l.toLowerCase()&&"name"!=l.toLowerCase()&&(s[l]=t[l])
return n&&n.appendChild(s),s},document.createElementWithAttributes=function(e,t,n){if("input"==e.toLowerCase()||"button"==e.toLowerCase())return document.createInputElementWithAttributes(e,t,n)
var i=document.createElement(e)
for(var o in t)i[o]=t[o]
return n&&n.appendChild(i),i},document.getScrollPosition=function(){var e=0,t=0
return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.compatMode&&"CSS1Compat"==document.compatMode?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&"number"==typeof document.body.scrollLeft&&"number"==typeof document.body.scrollTop&&(t=document.body.scrollTop,e=document.body.scrollLeft),{left:e,top:t}},document.getWindowSize=function(){var e,t,n,i
window.innerHeight&&window.scrollMaxY?(e=document.body.scrollWidth,t=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,t=document.body.scrollHeight):(e=document.getElementsByTagName("html").item(0).offsetWidth,t=document.getElementsByTagName("html").item(0).offsetHeight,e=e<document.body.offsetWidth?document.body.offsetWidth:e,t=t<document.body.offsetHeight?document.body.offsetHeight:t),window.innerHeight?(n=window.innerWidth,i=window.innerHeight):document.compatMode&&"CSS1Compat"==document.compatMode?(n=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(n=document.getElementsByTagName("html").item(0).clientWidth,i=document.getElementsByTagName("html").item(0).clientHeight,n=0==n?document.body.clientWidth:n,i=0==i?document.body.clientHeight:i)
var o=i>t?i:t,s=n>e?n:e
return{pageWidth:s,pageHeight:o,windowWidth:n,windowHeight:i}},document.getKeyCode=function(e){return e=e||window.event,(void 0===e.which||"number"==typeof e.which&&0==e.which)&&"number"==typeof e.keyCode?e.keyCode:e.which},document.getElementPoSi=function(e){var t={top:0,left:0,width:0,height:0}
if(!e||"object"!=typeof e)return t
if(void 0!==e.offsetTop)for(t.height=e.offsetHeight,t.width=e.offsetWidth,t.left=t.top=0;e&&"BODY"!=e.tagName;)t.top+=parseInt(e.offsetTop),t.left+=parseInt(e.offsetLeft),e=e.offsetParent
return t},document.getFirstChildByElement=function(e,t,n){if(n&&"object"!=typeof n&&(n=[n]),e&&e.hasChildNodes())for(var i=e.firstChild;null!=i;){if(i.nodeName.toLowerCase()==t){if(!n)return i
for(var o=","+i.className.split(" ").join(",")+",",s=0;s<n.length;s++)if(-1!=o.indexOf(","+n[s]+","))return i}i=i.nextSibling}return null},document.getMousePos=function(e){e=e||window.event
var t=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body
return{top:e.pageY?e.pageY:e.clientY+t.scrollTop-t.clientTop,left:e.pageX?e.pageX:e.clientX+t.scrollLeft-t.clientLeft}},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.containsLineBreak=function(){var e=RegExp(/(\n|\r|\r\n)./)
return e.test(this)},String.prototype.stripslashes=function(){var e=this
return e=e.replace(/\\'/g,"'"),e=e.replace(/\\"/g,'"'),e=e.replace(/\\0/g,"\x00"),e=e.replace(/\\\\/g,"\\")}
var ready=new function(){function e(){n||(n=1,i.addEventListener?(t="DOMContentLoaded",i.addEventListener(t,function(){i.removeEventListener(t,arguments.callee,!1),ready.ready()},!1)):i.attachEvent&&(t="onreadystatechange",i.attachEvent(t,function(){"complete"===i.readyState&&(i.detachEvent(t,arguments.callee),ready.ready())}),i.documentElement.doScroll&&o==o.top&&function(){if(!s.isReady){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}ready.ready()}}()),o.onload=ready.ready)}var t,n=0,i=document,o=window,s=this
s.isReady=0,s.readyList=[],s.ready=function(){if(!s.isReady){if(s.isReady=1,s.readyList){for(var e=0;e<s.readyList.length;e++)s.readyList[e].call(o,s)
s.readyList=null}i.loaded=!0}},s.push=function(t){return e(),s.isReady?t.call(o,s):s.readyList.push(t),s}},mlf=null
window.ready.push(function(){mlf=new MyLittleJavaScript
var e="undefined"!=typeof settings&&"string"==typeof settings.ajaxPreviewStructure?settings.ajaxPreviewStructure:!1
mlf&&"object"==typeof lang&&mlf.init(e),new DragAndDropTable(document.getElementById("sortable"),"bookmarks","mode")})
